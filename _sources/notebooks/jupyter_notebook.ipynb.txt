{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "\n",
    "# Jupyter Notebooks\n",
    "\n",
    "IPython notebooks are useful for logging your work. Here we suggest that\n",
    "you use them for logging and turning in homework assignments. You may\n",
    "also find them useful in other contexts such as laboratory work. The\n",
    "IPython Notebook interface is similar to Mathematica or Maple.\n",
    "\n",
    "An interactive interface\n",
    "------------------------\n",
    "\n",
    "An IPython notebook is a web-based environment for interactive\n",
    "computing. You can work in this environment interactively just as you\n",
    "would using the IPython shell. In addition, you can also store and run\n",
    "programs in an IPython notebook just like you would from the Spyder\n",
    "editor window. Thus, it would seem that an IPython notebook and the\n",
    "Spyder do essentially the same thing. Up to a point, that is true. In\n",
    "the final analysis, however, Spyder (or some similar Python development\n",
    "environment) is generally more useful for developing, storing, and\n",
    "running code. An IPython Notebook, on the other hand, is excellent for\n",
    "logging your work in Python. That is why we suggest using them for\n",
    "homework assignments. You may find them useful in other contexts as\n",
    "well.\n",
    "\n",
    "Installing and launching an IPython notebook\n",
    "--------------------------------------------\n",
    "\n",
    "If you have installed Anaconda, then you have already installed all the\n",
    "software you need to use IPython notebooks. IPython notbooks are stored\n",
    "in files with a `.ipynb` extension. To create an IPython notebook,\n",
    "launch the Terminal (Mac) or the Command Prompt (PC) application. On the\n",
    "Mac, the Terminal application is found in the Applications/Utilies\n",
    "folder. On the PC, the Command Prompt application is found under the\n",
    "Start/All Programs/Accessories menu. Here we will refer the the Terminal\n",
    "or Command Prompt applications at the System Console. Type `pwd` (Mac)\n",
    "or `chdir` (PC) to determine the current directory (folder) of the\n",
    "System Console. Type `ls` (Mac) or `dir` (PC) to list all the files and\n",
    "subdirectories in the current directory. Using the `cd` change directory\n",
    "command, move the System Console to the directory in which you want to\n",
    "store your IPython notebook.\n",
    "\n",
    "At the System Console prompt, type\n",
    "\n",
    ">     ipython notebook --matplotlib inline &\n",
    "\n",
    "This will launch the IPython notebook web application and will display\n",
    "the `fig-nbDashboard` as a page in your default web browser.\n",
    "\n",
    "<figure>\n",
    "<img src=\"attachment:nbDashboard.jpg\" class=\"align-center\" alt=\"\" /><figcaption>IPython Notebook Home Page</figcaption>\n",
    "</figure>\n",
    "\n",
    "To create a new IPython notebook, click the `New Notebook` button. That\n",
    "will open a new `fig-ipyNotebook` with the provisional title `Untitled0`\n",
    "in a new tab in your browser. To give the notebook a more meaningful\n",
    "name, click on `Untitled0` in your browser window to the right of\n",
    "`IP[y]: Notebook` and rename your notebook `FirstNotebook`. The Name\n",
    "`FirstNotebook` will replace `Untitled0` in your Notebook browser window\n",
    "and a file named `FirstNotebook.ipynb` will appear in the directory from\n",
    "which you launched IPython Notebook. That file will contain all the work\n",
    "you do in the IPython notebook. Next time you launch IPython Notebook\n",
    "from this same directory, all the IPython notebooks in that directory\n",
    "will appear in a list on the IPython Notebook Dashboard. Clicking on one\n",
    "of them will launch that notebook.\n",
    "\n",
    "<figure>\n",
    "<img src=\"attachment:ipyNotebook.png\" class=\"align-center\" alt=\"\" /><figcaption>IPython Notebook</figcaption>\n",
    "</figure>\n",
    "\n",
    "Using an IPython Notebook\n",
    "-------------------------\n",
    "\n",
    "When you open a new IPython Notebook, an IPython interactive cell with\n",
    "the prompt `In[ ]:` to the left, appears. You can type code into this\n",
    "cell just as you would in the IPython shell of the `fig-AnacondaWindow`.\n",
    "For example, typing `2+3` into the cell and pressing `Shift-Enter` (or\n",
    "`Shift-Return`) to execute the cell yields the expected result. Try it\n",
    "out.\n",
    "\n",
    "<figure>\n",
    "<img src=\"attachment:firstIPyNBcells.jpg\" class=\"align-center\" alt=\"\" /><figcaption>IPython Notebook demo</figcaption>\n",
    "</figure>\n",
    "\n",
    "Below the result a new IPython interactive cell appears ready for your\n",
    "next entry. In the next cell type the commands to import `numpy` and\n",
    "`matplotlib.pyplot` as shown in the `fig-firstIPyNBcells` figure. These\n",
    "two commands are separated by the `Shift` (without `Enter` or `Return`)\n",
    "so that they appear in the same cell. They are then both executed by\n",
    "pressing `Shift-Enter` (or `Shift-Return`). After importing numpy,\n",
    "typing `sin(np.pi/6.)` and pressing `Shift-Enter` produces the expected\n",
    "result (to nearly 1 part in $10^{16}$).\n",
    "\n",
    "You can also create plots in an IPython notebook. For example, typing\n",
    "`plt.plot([1,2,3,2,3,4,3,4,5])` and pressing `Shift-Enter` produces the\n",
    "same plot shown in the `fig-zigzagPlotDemo` figure. The plot is produced\n",
    "\"in line\" and not in a separate window, because we used the\n",
    "`--matplotlib inline` switch when we launched IPython Notebook. If you\n",
    "have followed along, your IPython notebook should look something like\n",
    "that shown in the figure `fig-firstIPyNBcells`.\n",
    "\n",
    "When importing NumPy and MatPlotLib, you can import the entire libraries\n",
    "using the commands \"`from numpy import *`\" and\n",
    "\"`from matplotlib.pyplot import *`\". Importing the two libraries in this\n",
    "way means that you don't have to use the `np.` and `plt.` prefixes when\n",
    "calling NumPy and MatPlotLib functions, just as in the IPython console\n",
    "in Anaconda or Spyder. While this could lead to some confusion in the\n",
    "namespaces, it's usually harmless.\n",
    "\n",
    "Be sure to press the `Save and Checkpoint` icon at the far left near the\n",
    "top of the IPython Notebook window from time to time to **save your\n",
    "work**.\n",
    "\n",
    "Running programs in an IPython Notebook\n",
    "---------------------------------------\n",
    "\n",
    "You can also run programs in an IPython notebook. As an example, we run\n",
    "the program introduced in the section on `screenoutput`. The program is\n",
    "input into a single notebook cell and then executed by pressing\n",
    "`Shift-Enter`.\n",
    "\n",
    "<figure>\n",
    "<img src=\"attachment:mileageNB.jpg\" class=\"align-center\" alt=\"\" /><figcaption>Running a program</figcaption>\n",
    "</figure>\n",
    "\n",
    "In this example, the program requests input from the user: the distance\n",
    "of the trip. The program runs up to the point where it needs input from\n",
    "the user, and then pauses until the user responds and presses the\n",
    "`Enter` or `Return` key. The program then completes its execution. Thus\n",
    "the IPython notebook provides a complete log of the session.\n",
    "\n",
    "Annotating an IPython Notebook\n",
    "------------------------------\n",
    "\n",
    "An IPython notebook will be more easily comprehended if it includes\n",
    "annotations of the session. In addition to logging the inputs and\n",
    "outputs of computations, IPython Notebook allows the user to embed\n",
    "headings, explanatory notes, mathematics, and images.\n",
    "\n",
    "<figure>\n",
    "<img src=\"attachment:ipyNoteFinalTop.jpg\" class=\"align-center\" alt=\"\" /><figcaption>Annotating a notebook</figcaption>\n",
    "</figure>\n",
    "\n",
    "Suppose, for example, that we want to have a title at the top of the\n",
    "IPython notebook we have been working with, and we want to include the\n",
    "name of the author of the session. To do this, we scroll the IPython\n",
    "notebook back up to the top and place the cursor and click in the very\n",
    "first input cell, the one that contained `2+3`. We then open the\n",
    "`Insert` menu near the top center of the window and click on\n",
    "`Insert Cell Above`, which opens up a new input cell above the first\n",
    "cell. Next, we click on the box in the Toolbar that says `Code`. A list\n",
    "of cell types appears: `Code` (currently checked), `Markdown`,\n",
    "`Raw Text`, `Heading 1`, `Heading 2`, ..., `Heading 6`. Select\n",
    "`Heading 1`; immediately the `In [ ]:` prompt disappears, indicating\n",
    "that this box is no longer meant for inputing and executing Python code.\n",
    "Type \"`Demo of IPython Notebook`\" and press `Shift-Enter` (or\n",
    "`Shift-Return`). A heading in large print appears before the first\n",
    "IPython code cell. Place the cursor back in the first Ipython code cell\n",
    "(`2+3`). Once again, select the `Insert` menu and click on\n",
    "`Insert Cell Above`. Again, click on the Toolbar that says `Code`, but\n",
    "this time select `Heading 2`. Type your name into the newly created cell\n",
    "and press `Shift-Enter`. Your name is printed in the cell in slightly\n",
    "smaller print than for the previous case.\n",
    "\n",
    "You can also write comments, including mathematical expressions, into an\n",
    "IPython Notebook cell. Let's include a comment after the program we ran\n",
    "that calculated the cost of gasoline for a road trip. First we place the\n",
    "cursor in the open formula cell below program we ran and then click on\n",
    "the box in the Toolbar that says `Code` and change it to `Markdown`.\n",
    "Returning to the cell, we enter the text of our comment. We can enter\n",
    "any text we wish, including mathematical expressions using the markup\n",
    "language Latex. (If you do not already know Latex, you can get a brief\n",
    "introduction at these sites:\n",
    "<http://en.wikibooks.org/wiki/LaTeX/Mathematics> or\n",
    "<ftp://ftp.ams.org/pub/tex/doc/amsmath/short-math-guide.pdf>.) Here we\n",
    "enter the following text:\n",
    "\n",
    ">     The total distance $x$ traveled during a trip can be \n",
    ">     obtained by integrating the velocity $v(t)$ over the \n",
    ">     duration $T$ of the trip:\n",
    ">     \\begin{align}\n",
    ">         x = \\int_0^T v(t)\\, dt\n",
    ">     \\end{align}\n",
    "\n",
    "After entering the text, pressing `Shift-Enter` yields the result shown\n",
    "in `fig-markdown`.\n",
    "\n",
    "<figure>\n",
    "<img src=\"attachment:markdown.jpg\" class=\"align-center\" alt=\"\" /><figcaption>Annotation using a Markdown cell</figcaption>\n",
    "</figure>\n",
    "\n",
    "The `$` symbol brackets inline mathematical expressions in Latex, while\n",
    "the `\\begin{align}` and `\\end{align}` expressions bracket displayed\n",
    "expressions. You only need to use Latex if you want to have fancy\n",
    "mathematical expressions in your notes. Otherwise, they are not\n",
    "necessary.\n",
    "\n",
    "Suppose you were importing a data (`.txt`) file from your hard disk and\n",
    "you wanted to print it out in one of the notebook cells. If you were in\n",
    "the `Terminal` (Mac) or `Command Prompt` (PC), you could write the\n",
    "contents of any text file using the command `cat` *filename* (Mac) or\n",
    "`type` *filename* (PC). You can execute the same operation from the\n",
    "IPython prompt using the Unix (Mac) or DOS (PC) command preceded by an\n",
    "exclamation point, as described in the section on `sysCommands`.\n",
    "\n",
    "<figure>\n",
    "<img src=\"attachment:ipyNoteFinalBottom.jpg\" class=\"align-center\" alt=\"\" /><figcaption>Displaying a text file from disk</figcaption>\n",
    "</figure>\n",
    "\n",
    "Editing and rerunning a notebook\n",
    "--------------------------------\n",
    "\n",
    "In working with an IPython notebook, you may find that you want to move\n",
    "some cells around, or delete some cells, or simply change some cells.\n",
    "All of these tasks are possible. You can cut and paste cells, as in a\n",
    "normal document editor, using the `Edit` menu. You can also freely edit\n",
    "cells and re-execute them by pressing `Shift-Enter`. Sometimes you may\n",
    "find that you would like to re-execute the entire notebook afresh. You\n",
    "can do this by going to the `Kernel` menu and selecting `Restart`. A\n",
    "warning message will appear asking you if you really want to restart.\n",
    "Answer in the affirmative. Then open the `Cell` menu and select\n",
    "`Run All`, which will re-execute the notebook starting with the first\n",
    "cell. You will have to re-enter any screen input requested by the\n",
    "notebook scripts.\n",
    "\n",
    "Quitting an IPython notebook\n",
    "----------------------------\n",
    "\n",
    "It goes almost without saying that before quitting an IPython notebook,\n",
    "you should make sure you have saved the notebook by pressing the\n",
    "`Save and Checkpoint` item in the `File` menu or its icon in the\n",
    "Toolbar.\n",
    "\n",
    "When you are ready to quit working with a notebook, click on the\n",
    "`Close and halt` item in the `File` menu. Your notebook browser tab will\n",
    "close and you will return to the IPython Notebook Dashboard. Just close\n",
    "the IPython Notebook Dashboard tab in your browser to end the session.\n",
    "\n",
    "Finally, return to the `Terminal` or `Command Prompt` application, hold\n",
    "down the `control` key and press `c` twice in rapid succession. This\n",
    "stops the IPython Notebook session. You should see the normal system\n",
    "prompt. You can then close the `Terminal` (Mac) or `Command Prompt` (PC)\n",
    "session if you wish.\n",
    "\n",
    "Working with an existing IPython notebook\n",
    "-----------------------------------------\n",
    "\n",
    "To work with an existing IPython notebook, open the `Terminal` (Mac) or\n",
    "`Command Prompt` (PC) application and navigate to the directory in which\n",
    "the notebook you want to work with resides. Recall that IPython\n",
    "notebooks have the `.ipynb` extension. Launch the IPython Notebook\n",
    "Dashboard as you did previously by issuing the command\n",
    "\n",
    ">     ipython notebook --matplotlib inline &\n",
    "\n",
    "This will open the IPython Notebook Dashboard in your web browser, where\n",
    "you should see a list of all the IPython notebooks in that directory\n",
    "(folder). Click on the name of the notebook you want to open. It will\n",
    "appear in a new tab on your web browser as before.\n",
    "\n",
    "Note that while all the input and output from the previous saved session\n",
    "is present, none of it has been run. That means that none of the\n",
    "variables or other objects has been defined in this new session. To\n",
    "initialize all the objects in the file, you must rerun the file. To\n",
    "rerun the file, press the `Cell` menu and select `Run All`, which will\n",
    "re-execute all the cells. You will have to re-enter any screen input\n",
    "requested by the notebook scripts. Now you are ready to pick up where\n",
    "you left off the last time."
   ]
  }
 ],
 "metadata": {
  "jupytext": {
   "cell_metadata_filter": "all",
   "formats": "ipynb,py:percent",
   "notebook_metadata_filter": "all,-language_info,-toc,-latex_envs"
  },
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.6"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
